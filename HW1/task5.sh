set -m  # включить управление задачами (job control) в скрипте

echo "Стартуем три фоновые задачи:"
sleep  7 &  # %1
sleep  5 &  # %2
sleep  3 &  # %3
jobs

echo -e "\n1) Переводим быструю задачу (%3: sleep 3) на передний план:"
fg %3       # дождётся завершения ~5 c
# по завершении увидите строку вида: "[3]+  Done  sleep 3"
jobs        # останутся %1 и %2

echo -e "\n2) Показ фокуса/свёртывания: вытащим %1 на передний план, затем отправим в фон."
pid1=$(jobs -p %1)
# Через секунду посылаем SIGTSTP, чтобы приостановить foreground-задачу:
( sleep 1; kill -TSTP "$pid1" ) &
fg %1       # задача %1 станет 'Stopped' после SIGTSTP
bg %1       # возобновим её в фоне
jobs

echo -e "\n3) Дождёмся оставшихся задач:"
wait
echo "Готово."


